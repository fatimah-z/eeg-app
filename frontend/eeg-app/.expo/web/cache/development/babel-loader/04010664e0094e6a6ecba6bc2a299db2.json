{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { applyAuthTokenInterceptor } from \"react-native-axios-jwt\";\nimport axios from \"axios\";\nvar BASE_URL = \"http://localhost:3000\";\nexport var axiosInstance = axios.create({\n  baseURL: BASE_URL\n});\n\nvar requestRefresh = function _callee(refresh) {\n  var response;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(axios.post(BASE_URL + \"/auth/refresh_token\", {\n            refresh: refresh\n          }));\n\n        case 2:\n          response = _context.sent;\n          return _context.abrupt(\"return\", response.data.access_token);\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\napplyAuthTokenInterceptor(axiosInstance, {\n  requestRefresh: requestRefresh\n});","map":{"version":3,"names":["applyAuthTokenInterceptor","axios","BASE_URL","axiosInstance","create","baseURL","requestRefresh","refresh","post","response","data","access_token"],"sources":["C:/Users/Fatima/Documents/GitHub/eeg-app/frontend/eeg-app/utils/api.js"],"sourcesContent":["import { applyAuthTokenInterceptor } from \"react-native-axios-jwt\";\r\nimport axios from \"axios\";\r\n\r\nconst BASE_URL = \"http://localhost:3000\";\r\n\r\n// 1. Create an axios instance that you wish to apply the interceptor to\r\nexport const axiosInstance = axios.create({ baseURL: BASE_URL });\r\n\r\n// 2. Define token refresh function.\r\nconst requestRefresh = async (refresh) => {\r\n  // Notice that this is the global axios instance, not the axiosInstance!\r\n  const response = await axios.post(`${BASE_URL}/auth/refresh_token`, {\r\n    refresh,\r\n  });\r\n\r\n  return response.data.access_token;\r\n};\r\n\r\n// 3. Apply interceptor\r\n// Notice that this uses the axiosInstance instance.\r\napplyAuthTokenInterceptor(axiosInstance, { requestRefresh });\r\n"],"mappings":";AAAA,SAASA,yBAAT,QAA0C,wBAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,uBAAjB;AAGA,OAAO,IAAMC,aAAa,GAAGF,KAAK,CAACG,MAAN,CAAa;EAAEC,OAAO,EAAEH;AAAX,CAAb,CAAtB;;AAGP,IAAMI,cAAc,GAAG,iBAAOC,OAAP;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA,iCAEEN,KAAK,CAACO,IAAN,CAAcN,QAAd,0BAA6C;YAClEK,OAAO,EAAPA;UADkE,CAA7C,CAFF;;QAAA;UAEfE,QAFe;UAAA,iCAMdA,QAAQ,CAACC,IAAT,CAAcC,YANA;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAvB;;AAWAX,yBAAyB,CAACG,aAAD,EAAgB;EAAEG,cAAc,EAAdA;AAAF,CAAhB,CAAzB"},"metadata":{},"sourceType":"module"}